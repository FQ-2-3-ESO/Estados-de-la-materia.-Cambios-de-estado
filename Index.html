<!doctype html>
<html lang="es" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Estados de la Materia</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&amp;display=swap" rel="stylesheet">
  <style>
    body { box-sizing: border-box; }
    * { font-family: 'Nunito', sans-serif; }
    
    .particle {
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      transition: all 0.3s ease;
    }
    
    .solid-particle { animation: vibrate 0.1s infinite; }
    .liquid-particle { animation: flow 2s infinite ease-in-out; }
    .gas-particle { animation: float 1.5s infinite ease-in-out; }
    
    @keyframes vibrate {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(-1px, 1px); }
      50% { transform: translate(1px, -1px); }
      75% { transform: translate(-1px, -1px); }
    }
    
    @keyframes flow {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(10px, 5px); }
      50% { transform: translate(-5px, 10px); }
      75% { transform: translate(5px, -5px); }
    }
    
    @keyframes float {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(20px, -20px); }
      50% { transform: translate(-15px, 15px); }
      75% { transform: translate(15px, 20px); }
    }
    
    .state-card { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
    .state-card:hover { transform: translateY(-8px); }
    .state-card.active { transform: scale(1.05); box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
    
    .thermometer-fill { transition: height 0.5s ease, background-color 0.5s ease; }
    
    .info-panel { animation: slideIn 0.4s ease-out; }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .tab-btn { transition: all 0.3s ease; }
    .tab-btn.active { transform: translateY(-2px); }
    
    .substance-btn { transition: all 0.3s ease; }
    .substance-btn.active { transform: scale(1.05); box-shadow: 0 0 15px rgba(255, 255, 255, 0.4); }
    
    .quiz-option { transition: all 0.3s ease; }
    .quiz-option:hover { transform: translateX(5px); }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full overflow-auto">
  <div id="app-wrapper" class="min-h-full w-full bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800">
   <div class="max-w-6xl mx-auto p-4 md:p-6">
    <header class="text-center mb-6">
     <h1 id="main-title" class="text-3xl md:text-4xl font-extrabold text-white mb-2 drop-shadow-lg">ğŸ”¬ Estados de la Materia</h1>
     <p class="text-purple-200 text-sm md:text-base">Explora cÃ³mo cambian las sustancias con la temperatura</p>
    </header>
    <nav class="flex justify-center gap-2 mb-6 flex-wrap"><button onclick="showSection('simulator')" id="tab-simulator" class="tab-btn active px-4 py-2 rounded-full bg-white text-purple-900 font-bold text-sm shadow-lg">ğŸ® Simulador</button> <button onclick="showSection('changes')" id="tab-changes" class="tab-btn px-4 py-2 rounded-full bg-purple-700/50 text-white font-bold text-sm">ğŸ”„ Cambios</button> <button onclick="showSection('quiz')" id="tab-quiz" class="tab-btn px-4 py-2 rounded-full bg-purple-700/50 text-white font-bold text-sm">ğŸ“ Quiz</button>
    </nav>
    <section id="section-simulator" class="space-y-6">
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-4">
      <p class="text-white font-bold mb-3 text-center">Elige una sustancia:</p>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-2"><button onclick="selectSubstance('water')" id="btn-water" class="substance-btn active px-4 py-2 rounded-xl bg-blue-500 text-white font-bold">ğŸ’§ Agua</button> <button onclick="selectSubstance('gold')" id="btn-gold" class="substance-btn px-4 py-2 rounded-xl bg-yellow-600 text-white font-bold">ğŸŸ¡ Oro</button> <button onclick="selectSubstance('iron')" id="btn-iron" class="substance-btn px-4 py-2 rounded-xl bg-gray-600 text-white font-bold">âš™ï¸ Hierro</button> <button onclick="selectSubstance('alcohol')" id="btn-alcohol" class="substance-btn px-4 py-2 rounded-xl bg-purple-600 text-white font-bold">ğŸ· Alcohol</button>
      </div>
     </div>
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-4 md:p-6">
      <div class="flex flex-col md:flex-row items-center gap-6">
       <div class="flex items-end gap-2">
        <div class="relative w-8 h-48 bg-gray-200 rounded-full overflow-hidden shadow-inner">
         <div id="thermo-fill" class="thermometer-fill absolute bottom-0 w-full bg-blue-500 rounded-full" style="height: 20%"></div>
         <div class="absolute inset-0 flex items-center justify-center">
          <div class="w-1 h-full bg-gray-300/50"></div>
         </div>
        </div>
        <div class="flex flex-col justify-between h-48 text-xs text-white/80" id="temp-labels"><span>3000Â°C</span> <span>1500Â°C</span> <span>750Â°C</span> <span>0Â°C</span> <span>-50Â°C</span>
        </div>
       </div>
       <div class="flex-1 w-full">
        <div class="text-center mb-4"><span class="text-5xl font-bold text-white" id="temp-display">-20Â°C</span>
         <p class="text-purple-200 mt-1" id="state-label">Estado: SÃ“LIDO</p>
         <p class="text-yellow-300 text-xs mt-2" id="substance-info">Agua: FusiÃ³n 0Â°C | EbulliciÃ³n 100Â°C</p>
        </div><input type="range" id="temp-slider" min="-50" max="3000" value="-20" class="w-full h-3 rounded-full appearance-none cursor-pointer" style="background: linear-gradient(to right, #3b82f6, #22c55e, #ef4444, #a855f7)" oninput="updateTemperature(this.value)">
        <div class="flex justify-between text-xs text-white/60 mt-1"><span>â„ï¸ FrÃ­o</span> <span>ğŸ”¥ Caliente</span> <span>âš¡ Muy caliente</span>
        </div>
        <div class="flex gap-2 mt-4 flex-wrap justify-center"><button onclick="quickSetTemp('frozen')" class="px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-full text-sm font-semibold transition">â„ï¸ SÃ³lido</button> <button onclick="quickSetTemp('melting')" class="px-3 py-1 bg-green-500 hover:bg-green-600 text-white rounded-full text-sm font-semibold transition">ğŸ’§ Fundiendo</button> <button onclick="quickSetTemp('boiling')" class="px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-full text-sm font-semibold transition">ğŸ’¨ Hirviendo</button> <button onclick="quickSetTemp('vaporized')" class="px-3 py-1 bg-orange-600 hover:bg-orange-700 text-white rounded-full text-sm font-semibold transition">â˜ï¸ Gas</button>
        </div>
       </div>
      </div>
     </div>
     <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div id="card-solid" class="state-card bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl p-4 shadow-xl cursor-pointer" onclick="selectState('solid')">
       <h3 class="text-xl font-bold text-white text-center mb-2">ğŸ§Š SÃ“LIDO</h3>
       <div id="container-solid" class="relative h-32 bg-blue-900/30 rounded-xl overflow-hidden"></div>
       <div class="mt-3 text-white/90 text-sm">
        <p>âœ“ Forma definida</p>
        <p>âœ“ Volumen fijo</p>
        <p>âœ“ PartÃ­culas juntas</p>
       </div>
      </div>
      <div id="card-liquid" class="state-card bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl p-4 shadow-xl cursor-pointer" onclick="selectState('liquid')">
       <h3 class="text-xl font-bold text-white text-center mb-2">ğŸ’§ LÃQUIDO</h3>
       <div id="container-liquid" class="relative h-32 bg-teal-900/30 rounded-xl overflow-hidden"></div>
       <div class="mt-3 text-white/90 text-sm">
        <p>âœ“ Forma variable</p>
        <p>âœ“ Volumen fijo</p>
        <p>âœ“ PartÃ­culas sueltas</p>
       </div>
      </div>
      <div id="card-gas" class="state-card bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl p-4 shadow-xl cursor-pointer" onclick="selectState('gas')">
       <h3 class="text-xl font-bold text-white text-center mb-2">ğŸ’¨ GAS</h3>
       <div id="container-gas" class="relative h-32 bg-red-900/30 rounded-xl overflow-hidden"></div>
       <div class="mt-3 text-white/90 text-sm">
        <p>âœ“ Sin forma fija</p>
        <p>âœ“ Volumen variable</p>
        <p>âœ“ PartÃ­culas libres</p>
       </div>
      </div>
     </div>
     <div id="info-panel" class="info-panel bg-white/10 backdrop-blur-sm rounded-2xl p-4 md:p-6">
      <h3 class="text-xl font-bold text-white mb-3">ğŸ“š Â¿SabÃ­as que...?</h3>
      <p id="info-text" class="text-purple-100 leading-relaxed">En el estado sÃ³lido, las partÃ­culas estÃ¡n muy ordenadas y unidas por fuerzas intensas.</p>
     </div>
    </section>
    <section id="section-changes" class="hidden space-y-6">
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-4 md:p-6">
      <div class="flex justify-between items-center mb-4">
       <div>
        <h2 class="text-2xl font-bold text-white">ğŸ® Â¡Adivina el cambio!</h2>
        <p class="text-purple-200 text-sm mt-1">Â¿QuÃ© cambio de estado es?</p>
       </div>
       <div class="text-right">
        <div class="text-white bg-purple-600 px-3 py-1 rounded-full text-sm font-bold mb-1">
         Puntos: <span id="game-score">0</span>/5
        </div>
       </div>
      </div>
      <div class="w-full h-2 bg-purple-900/50 rounded-full mb-6">
       <div id="game-progress" class="h-full bg-green-500 rounded-full transition-all duration-500" style="width: 20%"></div>
      </div>
      <div id="game-container">
       <div class="grid grid-cols-3 gap-6 mb-8">
        <div class="text-center">
         <div class="text-6xl mb-2" id="from-emoji">
          ğŸ§Š
         </div>
         <div class="text-white font-bold">
          DESDE
         </div>
         <div id="from-state" class="text-purple-200 text-sm">
          SÃ“LIDO
         </div>
        </div>
        <div class="flex items-center justify-center">
         <div class="text-4xl animate-bounce">
          âœ
         </div>
        </div>
        <div class="text-center">
         <div class="text-6xl mb-2" id="to-emoji">
          ğŸ’§
         </div>
         <div class="text-white font-bold">
          A
         </div>
         <div id="to-state" class="text-purple-200 text-sm">
          LÃQUIDO
         </div>
        </div>
       </div>
       <div class="text-center mb-6 p-4 bg-white/5 rounded-xl">
        <h3 class="text-xl font-bold text-white">Â¿CuÃ¡l es este cambio de estado?</h3>
       </div>
       <div id="game-options" class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-6"></div>
       <div id="game-feedback" class="hidden p-4 rounded-xl text-center">
        <p id="game-feedback-text" class="font-bold text-lg"></p>
       </div>
      </div>
      <div id="game-end" class="hidden text-center py-8">
       <div class="text-6xl mb-4">
        ğŸ‰
       </div>
       <h3 class="text-2xl font-bold text-white mb-2">Â¡Juego terminado!</h3>
       <p class="text-purple-200 mb-4">PuntuaciÃ³n: <span id="final-game-score">0</span>/5</p><button onclick="resetGame()" class="px-6 py-3 bg-purple-500 text-white font-bold rounded-full">ğŸ”„ Jugar de nuevo</button>
      </div>
     </div>
    </section>
    <section id="section-quiz" class="hidden space-y-6">
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-4 md:p-6">
      <div class="flex justify-between items-center mb-4">
       <h2 class="text-xl font-bold text-white">ğŸ“ Quiz</h2>
       <div class="text-white bg-purple-600 px-3 py-1 rounded-full text-sm font-bold">
        Puntos: <span id="score">0</span>/10
       </div>
      </div>
      <div class="w-full h-2 bg-purple-900/50 rounded-full mb-6">
       <div id="progress-bar" class="h-full bg-green-500 rounded-full transition-all" style="width: 10%"></div>
      </div>
      <div id="quiz-container">
       <p class="text-purple-200 text-sm mb-2">Pregunta <span id="q-number">1</span>/10</p>
       <h3 id="question" class="text-lg font-bold text-white mb-4"></h3>
       <div id="options" class="space-y-2"></div>
       <div id="feedback" class="mt-4 hidden p-3 rounded-xl">
        <p id="feedback-text"></p>
       </div>
      </div>
      <div id="quiz-end" class="hidden text-center py-8">
       <div class="text-6xl mb-4">
        ğŸ‰
       </div>
       <h3 class="text-2xl font-bold text-white mb-2">Â¡Quiz completado!</h3>
       <p class="text-purple-200 mb-4">PuntuaciÃ³n: <span id="final-score">0</span>/10</p><button onclick="resetQuiz()" class="px-6 py-3 bg-purple-500 text-white font-bold rounded-full">ğŸ”„ Intentar de nuevo</button>
      </div>
     </div>
    </section>
    <footer class="text-center mt-6 text-purple-300/60 text-sm">
     <p>ğŸ”¬ Ciencias - Estados de la Materia</p>
    </footer>
   </div>
  </div>
  <script>
    const defaultConfig = { main_title: 'ğŸ”¬ Estados de la Materia' };
    let config = { ...defaultConfig };
    
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: (cfg) => { config = cfg; },
        mapToCapabilities: () => ({ recolorables: [], borderables: [], fontEditable: undefined, fontSizeable: undefined }),
        mapToEditPanelValues: () => new Map()
      });
    }

    const substances = {
      water: { name: 'Agua', meltingPoint: 0, boilingPoint: 100, maxTemp: 150, emoji: 'ğŸ’§', info: 'Agua: FusiÃ³n 0Â°C | EbulliciÃ³n 100Â°C', color1: '#fbbf24', color2: '#06b6d4', color3: '#fca5a5' },
      gold: { name: 'Oro', meltingPoint: 1064, boilingPoint: 2700, maxTemp: 3000, emoji: 'ğŸŸ¡', info: 'Oro: FusiÃ³n 1064Â°C | EbulliciÃ³n 2700Â°C', color1: '#fbbf24', color2: '#fcd34d', color3: '#fb923c' },
      iron: { name: 'Hierro', meltingPoint: 1538, boilingPoint: 2862, maxTemp: 3200, emoji: 'âš™ï¸', info: 'Hierro: FusiÃ³n 1538Â°C | EbulliciÃ³n 2862Â°C', color1: '#9ca3af', color2: '#6b7280', color3: '#dc2626' },
      alcohol: { name: 'Alcohol', meltingPoint: -114, boilingPoint: 78, maxTemp: 150, emoji: 'ğŸ·', info: 'Alcohol: FusiÃ³n -114Â°C | EbulliciÃ³n 78Â°C', color1: '#c084fc', color2: '#a855f7', color3: '#e879f9' }
    };
    
    const particleConfigs = {
      solid: [{x: 20, y: 40}, {x: 40, y: 40}, {x: 60, y: 40}, {x: 80, y: 40}, {x: 20, y: 60}, {x: 40, y: 60}, {x: 60, y: 60}, {x: 80, y: 60}, {x: 20, y: 80}, {x: 40, y: 80}, {x: 60, y: 80}, {x: 80, y: 80}],
      liquid: [{x: 15, y: 50}, {x: 35, y: 55}, {x: 55, y: 45}, {x: 75, y: 60}, {x: 25, y: 70}, {x: 45, y: 75}, {x: 65, y: 65}, {x: 85, y: 70}, {x: 20, y: 85}, {x: 40, y: 90}, {x: 60, y: 85}, {x: 80, y: 88}],
      gas: [{x: 10, y: 15}, {x: 70, y: 10}, {x: 40, y: 30}, {x: 85, y: 35}, {x: 20, y: 50}, {x: 55, y: 55}, {x: 80, y: 60}, {x: 35, y: 75}, {x: 10, y: 80}, {x: 60, y: 85}, {x: 85, y: 90}, {x: 45, y: 15}]
    };

    let currentState = 'solid', currentTemp = -20, currentQuestion = 0, score = 0, gameScore = 0, gameQuestion = 0, currentSubstance = 'water';

    function createParticles() {
      const sub = substances[currentSubstance];
      ['solid', 'liquid', 'gas'].forEach(state => {
        const container = document.getElementById(`container-${state}`);
        container.innerHTML = '';
        particleConfigs[state].forEach((pos, i) => {
          const p = document.createElement('div');
          p.className = `particle ${state}-particle`;
          p.style.left = `${pos.x}%`;
          p.style.top = `${pos.y}%`;
          p.style.animationDelay = `${i * 0.1}s`;
          p.style.backgroundColor = state === 'solid' ? sub.color1 : state === 'liquid' ? sub.color2 : sub.color3;
          container.appendChild(p);
        });
      });
    }

    function updateParticleDisplay() {
      ['solid', 'liquid', 'gas'].forEach(state => {
        const particles = document.getElementById(`container-${state}`).querySelectorAll('.particle');
        particles.forEach(p => p.style.opacity = state === currentState ? '1' : '0.2');
      });
    }

    function selectSubstance(sub) {
      currentSubstance = sub;
      const s = substances[sub];
      document.querySelectorAll('.substance-btn').forEach(b => b.classList.remove('active'));
      document.getElementById(`btn-${sub}`).classList.add('active');
      document.getElementById('substance-info').textContent = s.info;
      document.getElementById('temp-slider').min = -50;
      document.getElementById('temp-slider').max = s.maxTemp + 200;
      currentTemp = s.meltingPoint - 20;
      document.getElementById('temp-slider').value = currentTemp;
      updateTemperature(currentTemp);
      createParticles();
    }

    function updateTemperature(temp) {
      currentTemp = parseInt(temp);
      const s = substances[currentSubstance];
      document.getElementById('temp-display').textContent = `${currentTemp}Â°C`;
      const fillPercent = ((currentTemp - (-50)) / (s.maxTemp + 200 - (-50))) * 100;
      const fill = document.getElementById('thermo-fill');
      fill.style.height = `${Math.max(5, Math.min(100, fillPercent))}%`;
      if (currentTemp < s.meltingPoint) {
        fill.style.backgroundColor = '#3b82f6';
        selectState('solid');
        document.getElementById('state-label').textContent = 'Estado: SÃ“LIDO';
      } else if (currentTemp < s.boilingPoint) {
        fill.style.backgroundColor = '#22c55e';
        selectState('liquid');
        document.getElementById('state-label').textContent = 'Estado: LÃQUIDO';
      } else {
        fill.style.backgroundColor = '#ef4444';
        selectState('gas');
        document.getElementById('state-label').textContent = 'Estado: GAS';
      }
    }

    function quickSetTemp(preset) {
      const s = substances[currentSubstance];
      let temp = preset === 'frozen' ? s.meltingPoint - 20 : preset === 'melting' ? s.meltingPoint + 5 : preset === 'boiling' ? s.boilingPoint + 5 : s.boilingPoint + 50;
      document.getElementById('temp-slider').value = temp;
      updateTemperature(temp);
    }

    function selectState(state) {
      currentState = state;
      ['solid', 'liquid', 'gas'].forEach(s => document.getElementById(`card-${s}`).classList.toggle('active', s === state));
      const texts = { solid: 'Las partÃ­culas estÃ¡n muy ordenadas y unidas por fuerzas intensas.', liquid: 'Las partÃ­culas pueden deslizarse unas sobre otras.', gas: 'Las partÃ­culas se mueven libremente en todas direcciones.' };
      document.getElementById('info-text').textContent = texts[state];
      updateParticleDisplay();
    }

    function showSection(sec) {
      ['simulator', 'changes', 'quiz'].forEach(s => {
        document.getElementById(`section-${s}`).classList.add('hidden');
        document.getElementById(`tab-${s}`).classList.remove('active', 'bg-white', 'text-purple-900');
      });
      document.getElementById(`section-${sec}`).classList.remove('hidden');
      document.getElementById(`tab-${sec}`).classList.add('active', 'bg-white', 'text-purple-900');
      if (sec === 'changes') initializeGame();
    }

    const gameChanges = [
      { from: 'solid', to: 'liquid', name: 'FusiÃ³n', emoji1: 'ğŸ§Š', emoji2: 'ğŸ’§' },
      { from: 'liquid', to: 'gas', name: 'VaporizaciÃ³n', emoji1: 'ğŸ’§', emoji2: 'ğŸ’¨' },
      { from: 'liquid', to: 'solid', name: 'SolidificaciÃ³n', emoji1: 'ğŸ’§', emoji2: 'ğŸ§Š' },
      { from: 'gas', to: 'liquid', name: 'CondensaciÃ³n', emoji1: 'ğŸ’¨', emoji2: 'ğŸ’§' },
      { from: 'solid', to: 'gas', name: 'SublimaciÃ³n', emoji1: 'ğŸ§Š', emoji2: 'ğŸ’¨' }
    ];

    let currentGameChange = null;

    function initializeGame() {
      gameScore = 0;
      gameQuestion = 0;
      document.getElementById('game-score').textContent = gameScore;
      document.getElementById('game-container').style.display = 'block';
      document.getElementById('game-end').classList.add('hidden');
      loadGameQuestion();
    }

    function loadGameQuestion() {
      if (gameQuestion >= gameChanges.length) {
        document.getElementById('game-container').style.display = 'none';
        document.getElementById('game-end').classList.remove('hidden');
        document.getElementById('final-game-score').textContent = gameScore;
        return;
      }
      currentGameChange = gameChanges[gameQuestion];
      document.getElementById('from-emoji').textContent = currentGameChange.emoji1;
      document.getElementById('to-emoji').textContent = currentGameChange.emoji2;
      document.getElementById('game-progress').style.width = `${((gameQuestion + 1) / 5) * 100}%`;
      
      const opts = [currentGameChange.name];
      while (opts.length < 4) {
        const r = gameChanges[Math.floor(Math.random() * gameChanges.length)].name;
        if (!opts.includes(r)) opts.push(r);
      }
      opts.sort(() => Math.random() - 0.5);
      
      const container = document.getElementById('game-options');
      container.innerHTML = '';
      opts.forEach(o => {
        const b = document.createElement('button');
        b.className = 'px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-white font-bold text-lg transition';
        b.textContent = o;
        b.onclick = () => { const correct = o === currentGameChange.name; gameScore += correct ? 1 : 0; document.getElementById('game-score').textContent = gameScore; gameQuestion++; setTimeout(() => loadGameQuestion(), 1000); };
        container.appendChild(b);
      });
    }

    function resetGame() { initializeGame(); }

    const questions = [
      { q: 'Â¿Cambio de sÃ³lido a lÃ­quido?', options: ['VaporizaciÃ³n', 'FusiÃ³n', 'CondensaciÃ³n', 'SublimaciÃ³n'], correct: 1 },
      { q: 'Â¿DÃ³nde estÃ¡n mÃ¡s ordenadas las partÃ­culas?', options: ['LÃ­quido', 'Gas', 'SÃ³lido', 'Todos igual'], correct: 2 },
      { q: 'Â¿Cambio de agua en vapor?', options: ['FusiÃ³n', 'SolidificaciÃ³n', 'VaporizaciÃ³n', 'CondensaciÃ³n'], correct: 2 },
      { q: 'Â¿Cambio de gas a lÃ­quido?', options: ['CondensaciÃ³n', 'VaporizaciÃ³n', 'FusiÃ³n', 'SublimaciÃ³n'], correct: 0 },
      { q: 'Â¿Movimiento de partÃ­culas en gas?', options: ['Ordenadas', 'Fijas', 'Libres', 'Lentamente'], correct: 2 },
      { q: 'Â¿Cambio directo sÃ³lido-gas?', options: ['FusiÃ³n', 'SolidificaciÃ³n', 'SublimaciÃ³n', 'LicuaciÃ³n'], correct: 2 },
      { q: 'Temperatura fusiÃ³n agua', options: ['100Â°C', '50Â°C', '0Â°C', '-100Â°C'], correct: 2 },
      { q: 'Propiedad sÃ³lidos', options: ['Volumen variable', 'Forma definida', 'PartÃ­culas sueltas', 'Muy fluido'], correct: 1 },
      { q: 'Estado lÃ­quido en recipiente', options: ['CÃºbica', 'Propia forma', 'Forma del recipiente', 'EsfÃ©rica'], correct: 2 },
      { q: 'Cambio hielo â†’ agua', options: ['VaporizaciÃ³n', 'FusiÃ³n', 'CondensaciÃ³n', 'SolidificaciÃ³n'], correct: 1 }
    ];

    function loadQuestion() {
      const q = questions[currentQuestion];
      document.getElementById('q-number').textContent = currentQuestion + 1;
      document.getElementById('question').textContent = q.q;
      document.getElementById('progress-bar').style.width = `${((currentQuestion + 1) / 10) * 100}%`;
      const opts = document.getElementById('options');
      opts.innerHTML = '';
      q.options.forEach((o, i) => {
        const b = document.createElement('button');
        b.className = 'w-full text-left p-3 bg-white/10 hover:bg-white/20 rounded-xl text-white transition';
        b.innerHTML = `<span class="mr-2">${String.fromCharCode(65 + i)}.</span>${o}`;
        b.onclick = () => { score += i === q.correct ? 1 : 0; document.getElementById('score').textContent = score; currentQuestion++; currentQuestion < 10 ? loadQuestion() : endQuiz(); };
        opts.appendChild(b);
      });
    }

    function endQuiz() {
      document.getElementById('quiz-container').classList.add('hidden');
      document.getElementById('quiz-end').classList.remove('hidden');
      document.getElementById('final-score').textContent = score;
    }

    function resetQuiz() {
      currentQuestion = 0;
      score = 0;
      document.getElementById('score').textContent = '0';
      document.getElementById('quiz-container').classList.remove('hidden');
      document.getElementById('quiz-end').classList.add('hidden');
      loadQuestion();
    }

    document.addEventListener('DOMContentLoaded', () => {
      createParticles();
      selectState('solid');
      loadQuestion();
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c7b068903f94ffb',t:'MTc3MDA0OTMyNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
